---
layout: archive
title: "Projects"
permalink: /projects/
author_profile: true
---

{% include base_path %}

<h1 class="archive__subtitle">Projects by Category</h1>

{% comment %}
  Step 1. 收集所有 collection 标签
{% endcomment %}
{% assign all_collections = "" | split: "|" %}
{% for project in site.projects %}
  {% if project.collection %}
    {% assign current = project.collection %}
    {% unless all_collections contains current %}
      {% assign all_collections = all_collections | push: current %}
    {% endunless %}
  {% endif %}
{% endfor %}
{% assign sorted_collections = all_collections | sort %}

{% comment %}
  Step 2. 输出每个分类标题与项目
{% endcomment %}
{% for cat in sorted_collections %}
  <h2 class="archive__subtitle" style="margin-top: 2em; border-bottom: 1px solid #ccc;">
    {{ cat }}
  </h2>

  <ul class="archive__items">
    {% assign projects_in_cat = site.projects | where: "collection", cat %}
    {% for post in projects_in_cat reversed %}
      <li style="margin: 0.5em 0;">
        <a href="{{ post.url | relative_url }}" style="font-weight:500;">
          {{ post.title }}
        </a>
        {% if post.date %}
          <span style="color:#666; font-size:0.9em;"> ({{ post.date | date: "%Y-%m-%d" }})</span>
        {% endif %}
      </li>
    {% endfor %}
  </ul>
{% endfor %}